{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/store/mutations.js","webpack:///./src/scripts/lib/pubsub.js","webpack:///./src/scripts/store/store.js","webpack:///./src/scripts/store/index.js","webpack:///./src/scripts/store/actions.js","webpack:///./src/scripts/store/state.js","webpack:///./src/scripts/store/initial-state.js","webpack:///./src/scripts/lib/component.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/components/cart-count.js","webpack:///./src/scripts/components/cart-items.js","webpack:///./src/scripts/components/cart-total.js","webpack:///./src/scripts/components/product-list.js","webpack:///./src/scripts/components/filter.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","mutations","getProducts","state","payload","products","push","addProductToCart","cartItems","removeProductFromCart","splice","index","addToCartTotal","cartTotal","removeFromCartTotal","parseFloat","variants","price","sortTitle","filters","title","sortPrice","PubSub","constructor","this","events","subscribe","event","callback","self","publish","data","map","Store","params","actions","status","Proxy","set","console","log","warn","dispatch","actionKey","error","groupCollapsed","groupEnd","commit","mutationKey","newState","assign","store","context","url","xhr","XMLHttpRequest","open","responseType","onload","response","send","loadProducts","alert","Component","props","render","element","cartCountInstance","super","document","querySelectorAll","forEach","singleElement","innerHTML","length","cartItemsInstance","querySelector","item","join","button","addEventListener","cartTotalInstance","taxElement","toFixed","productlistInstance","handleAddToCart","filterProductsArray","createProductListString","target","classList","contains","addedProductID","getAttribute","product","id","titleFilter","priceFilter","sort","a","b","toLowerCase","productArray","body_html","created_at","options","product_type","published_at","tags","updated_at","vendor","image","images","src","productString","filterInstance","select","e","filterValue"],"mappings":"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","file":"js/app.0543a237.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n * Mutations should always be minimal. They should only ever do one thing.\n * All state mutations must be synchronous\n */\nexport default {\n  getProducts(state, payload) {\n    state.products.push(payload);\n\n    return state;\n  },\n  addProductToCart(state, payload) {\n    state.cartItems.push(payload);\n\n    return state;\n  },\n  removeProductFromCart(state, payload) {\n    state.cartItems.splice(payload.index, 1);\n\n    return state;\n  },\n  addToCartTotal(state, payload) {\n    state.cartTotal += payload;\n\n    return state;\n  },\n  removeFromCartTotal(state, payload){\n    state.cartTotal -= parseFloat(state.cartItems[payload.index].variants[0].price);\n\n    return state;\n  },\n  sortTitle(state, payload){\n    state.filters.title = payload;\n\n    return state;\n  },\n  sortPrice(state, payload){\n    state.filters.price = payload;\n\n    return state;\n  }\n};\n","/**\n * Simple publish subscribe class.\n * @type {Object}\n */\nexport default class PubSub {\n  constructor() {\n    this.events = {};\n  }\n\n  subscribe(event, callback) {\n    let self = this;\n\n    if (!self.events.hasOwnProperty(event)) {\n      self.events[event] = [];\n    }\n\n    return self.events[event].push(callback);\n  }\n\n  publish(event, data = {}) {\n    let self = this;\n\n    if (!self.events.hasOwnProperty(event)) {\n      return [];\n    }\n\n    return self.events[event].map(callback => callback(data));\n  }\n}\n","import PubSub from '../lib/pubsub.js';\n\n/**\n * Our central object. It contains our applications state.\n * The commit method, calls our mutations\n * The dispatch method that calls our actions.\n *\n * There is also a Proxy System that manages and broadcasts changes with the\n * PubSub module.\n *\n *  We should invoke async actions which commit mutations when the async\n *  code has completed.\n *\n * The two important methods are dispatch and commit. Dispatch calls our actions\n * and commit calls our mutations.\n */\nexport default class Store {\n  constructor(params) {\n    let self = this;\n\n    self.actions = {};\n    self.mutations = {};\n    self.state = {};\n    self.status = 'resting';\n    self.events = new PubSub();\n\n    if (params.hasOwnProperty('actions')) {\n      self.actions = params.actions;\n    }\n    if (params.hasOwnProperty('mutations')) {\n      self.mutations = params.mutations;\n    }\n\n    // The proxy essentially keeps track of all the changes and checks they are safe.\n    // More here - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\n    self.state = new Proxy((params.state || {}), {\n\n      // validates data passed into the store object\n      set: function(state, key, value) {\n\n        state[key] = value;\n\n        console.log(`stateChange: ${key}: ${value}`);\n\n        self.events.publish('stateChange', self.state);\n\n        // Tell off develoepr for setting the state manually.\n        if (self.status !== 'mutation') {\n          console.warn(`You should use a mutation to set ${key}`);\n        }\n\n        self.status = 'resting';\n\n        return true;\n      }\n    });\n  }\n\n  dispatch(actionKey, payload) {\n    let self = this;\n\n    if (typeof self.actions[actionKey] !== 'function') {\n      console.error(`Action \"${actionKey} doesn't exist.`);\n      return false;\n    }\n\n    console.groupCollapsed(`ACTION: ${actionKey}`);\n\n    self.status = 'action';\n\n    self.actions[actionKey](self, payload);\n\n    console.groupEnd();\n\n    return true;\n  }\n\n  commit(mutationKey, payload) {\n    let self = this;\n\n    if (typeof self.mutations[mutationKey] !== 'function') {\n      console.log(`Mutation \"${mutationKey}\" doesn't exist`);\n      return false;\n    }\n\n    self.status = 'mutation';\n\n    let newState = self.mutations[mutationKey](self.state, payload);\n\n    self.state = Object.assign(self.state, newState);\n\n    return true;\n  }\n}\n","/**\n * Create our apps Store instance by gluing all the pieces together.\n * Remember actions are called on the frontend to make mutations to the state.\n * Actions should be asynchronous.\n */\nimport actions from './actions.js';\nimport mutations from './mutations.js';\nimport state from './state.js';\nimport Store from './store.js';\n\nexport default new Store({\n  actions,\n  mutations,\n  state\n});\n","/**\n * Essentially each action passes a payload to a mutation, which then commits\n * the data to the store.\n *\n * Actions commit mutations, the key difference being that\n * mutations can not be asynchronous.\n *\n * The context is the instance of the Store class and\n * the payload is passed in by whatever dispatches the action\n *\n * The frontend will be running actions and should be asynchronous\n *\n *\n */\n\nexport default {\n  getProducts(context, payload) {\n    context.commit('getProducts', payload);\n  },\n  addProductToCart(context, payload) {\n    context.commit('addProductToCart', payload);\n  },\n  removeProductFromCart(context, payload) {\n    context.commit('removeProductFromCart', payload);\n  },\n  addToCartTotal(context, payload) {\n    context.commit('addToCartTotal', payload);\n  },\n  removeFromCartTotal(context, payload) {\n    context.commit('removeFromCartTotal', payload);\n  },\n  sortTitle(context, payload) {\n    context.commit('sortTitle', payload);\n  },\n  sortPrice(context, payload) {\n    context.commit('sortPrice', payload);\n  }\n};\n","export default {\n  cartItems: [],\n  products: [],\n  cartTotal: 0,\n  filters: {\n    title: 'default-title-sort',\n    price: 'default-price-sort'\n  }\n};\n","import store from './index.js';\nconst fetchURL = 'https://j-parre.myshopify.com/products.json';\n\nfunction loadProducts(url, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function() {\n    var status = xhr.status;\n    if (status === 200) {\n      callback(null, xhr.response);\n    } else {\n      callback(status, xhr.response);\n    }\n  };\n  xhr.send();\n};\n\nconst initialState = loadProducts(fetchURL, function(error, products){\n  if (error !== null) {\n    alert('Something went wrong: ' + error);\n  } else {\n    store.dispatch('getProducts', products);\n  }\n});\n","import Store from '../store/store.js';\n\n/**\n * This allows us to create components that dynamically respond to\n * changes in our state.\n */\nexport default class Component {\n  constructor(props = {}) {\n    let self = this;\n\n    this.render = this.render || function(){};\n\n    if (props.store instanceof Store) {\n      props.store.events.subscribe('stateChange', () => self.render());\n    }\n\n    if(props.hasOwnProperty('element')) {\n      this.element = props.element;\n    }\n  }\n}\n","import '../styles/index.scss';\nimport store from './store/index.js';\nimport initialState from './store/initial-state.js';\n\nimport CartCount from './components/cart-count.js';\nimport CartItems from './components/cart-items.js';\nimport CartTotal from './components/cart-total.js';\nimport ProductList from './components/product-list.js';\nimport Filter from './components/filter.js';\n\nconst cartCountInstance = new CartCount();\nconst cartItemsInstance = new CartItems();\nconst cartTotalInstance = new CartTotal();\nconst productlistInstance = new ProductList();\nconst filterInstance = new Filter();\n\ncartCountInstance.render();\ncartItemsInstance.render();\ncartTotalInstance.render();\nproductlistInstance.render();\nfilterInstance.render();\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\n\nexport default class CartCount extends Component {\n  constructor() {\n    super({\n      store,\n      element: document.querySelectorAll('.cart-count')\n    });\n  }\n\n  render() {\n    let self = this;\n\n    let element = self.element;\n\n    element.forEach(function(singleElement){\n      singleElement.innerHTML = `${store.state.cartItems.length}`\n    });\n  }\n}\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\n\nexport default class CartItems extends Component {\n  constructor() {\n    super({\n      store,\n      element: document.querySelector('.cart-items')\n    });\n  }\n\n  render() {\n\n    if (store.state.cartItems.length === 0) {\n      this.element.innerHTML = `<p class=\"empty-cart\">You have nothing in your cart &#128546;</p>`;\n      return;\n    }\n\n    this.element.innerHTML = `\n      ${store.state.cartItems.map(item => {\n        return `\n          <li>\n          <button class=\"remove-product\">×</button></div>\n          <div class=\"cart-product-info\">\n            <span class=\"title\">${item.title}</span>\n            <span class=\"price\" data-price=\"${item.variants[0].title}\">£${item.variants[0].price}</span>\n          </div>\n          <div class=\"cart-product-footer\">\n            <span class=\"size\">${item.variants[0].title}</span>\n          </li>`}).join('')}`;\n\n    this.element.querySelectorAll('button').forEach((button, index) => {\n      button.addEventListener('click', () => {\n        store.dispatch('removeFromCartTotal', {index});\n        store.dispatch('removeProductFromCart', {index});\n      });\n    });\n  }\n}\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\n\nexport default class CartTotal extends Component {\n  constructor() {\n    super({\n      store,\n      element: document.querySelectorAll('.cart-total')\n    });\n  }\n\n  render() {\n    let self = this;\n    let element = self.element;\n    let taxElement = document.querySelector('.price-tax');\n\n    element.forEach(function(singleElement){\n      singleElement.innerHTML = `£${parseFloat(store.state.cartTotal).toFixed(2)}`;\n    });\n\n    taxElement.innerHTML = `£${parseFloat(store.state.cartTotal / 100 * 20).toFixed(2)}`;\n\n  }\n}\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\n\nexport default class productList extends Component {\n  constructor() {\n    super({\n      store,\n      element: document.querySelector('.product-list')\n    });\n    this.handleAddToCart.bind(this)();\n    this.filterProductsArray.bind(this);\n    this.createProductListString.bind(this);\n  }\n\n  handleAddToCart() {\n    // Add event listener to the dynamically added buttons\n    document.querySelector('body').addEventListener('click', function (event) {\n      if (event.target.classList.contains('add-to-cart')) {\n        let target = event.target;\n        let addedProductID = event.target.getAttribute('data-product-id');\n        let products = store.state.products[0]['products'];\n        products.map(product => {\n          if(product.id == addedProductID) {\n            store.dispatch('addProductToCart', product);\n            store.dispatch('addToCartTotal', parseFloat(product.variants[0].price));\n          }\n        });\n      }\n    });\n  }\n\n\n  /**\n   * Sort the array of products as per the filters\n   * @param  {array} products Pass in the states products array\n   * @return {array} The sorted products state\n   */\n  filterProductsArray(products) {\n    // Filter the products array here\n    let titleFilter = store.state.filters.title;\n    let priceFilter = store.state.filters.price;\n\n    // Title Filter\n    if (titleFilter == 'a-z') {\n      products.sort(function(a,b){\n        if(a.title.toLowerCase() < b.title.toLowerCase()) {\n          return -1;\n        }\n        if (a.title.toLowerCase() > b.title.toLowerCase()) {\n          return 1;\n        };\n        return 0;\n      });\n    } else if (titleFilter == 'z-a') {\n      products.sort(function(a,b){\n        if(a.title.toLowerCase() > b.title.toLowerCase()) {\n          return -1;\n        }\n        if (a.title.toLowerCase() < b.title.toLowerCase()) {\n          return 1;\n        };\n        return 0;\n      });\n    };\n\n    // Price filter\n    if (priceFilter == 'low-high') {\n      products.sort(function(a,b){\n        if(a.variants[0].price < b.variants[0].price) {\n          return -1;\n        }\n        if (a.variants[0].price > b.variants[0].price) {\n          return 1;\n        };\n        return 0;\n      });\n    } else if (priceFilter == 'high-low') {\n      products.sort(function(a,b){\n        if(a.variants[0].price > b.variants[0].price) {\n          return -1;\n        }\n        if (a.variants[0].price < b.variants[0].price) {\n          return 1;\n        };\n        return 0;\n      });\n    } else{\n      return;\n    }\n  };\n\n\n  /**\n   * Returns a string off all the products to be rendered\n   * @param  {object} products Pass in the states products object\n   * @return {string} Returns a string of all the objects to be rendered.\n   */\n  createProductListString(products) {\n    let productArray = [];\n\n    products.map(item => {\n        let { body_html, created_at, id, options, product_type, published_at, tags, title, updated_at, vendor  } = item;\n        let image = item.images[0].src;\n        let price = item.variants[0].price;\n        let size = item.variants[0].title;\n\n        let productString = `\n          <div class=\"product\">\n          <div class=\"image-container\">\n            <img src=\"${image}\" alt=\"${title} from Eclectees Co\"/>\n          </div>\n          <div class=\"product-details match-height\">\n            <div class=\"title\">\n              <p>${title}</p>\n            </div>\n            <div class=\"price\">\n              <p>£${price}</p>\n            </div>\n          </div>\n          <div class=\"product-buttons\">\n            <button class=\"button button-red add-to-cart\" data-product-id=\"${id}\">Add to cart</button>\n            <button class=\"button button-grey\">Quick view</button>\n          </div>\n        </div>\n      `;\n\n      productArray.push(productString);\n    });\n\n    productArray = productArray.join('');\n    return productArray\n  };\n\n\n  /**\n   * Renders the product list\n   */\n  render() {\n    let self = this;\n\n    if (store.state.products.length === 0 ) {\n\n      return;\n\n    } else {\n\n      // Get the products from the state\n      let products = store.state.products[0]['products'];\n\n      // Filter the products\n      this.filterProductsArray(products);\n\n      // Create string from the products object\n      let productString = this.createProductListString(products);\n\n      // Render it to the DOM\n      self.element.innerHTML = productString;\n    }\n  }\n}\n","import Component from '../lib/component.js';\nimport store from '../store/index.js';\n\nexport default class Filter extends Component {\n  constructor() {\n    super({\n      store,\n      element: document.querySelector('.filters')\n    });\n  }\n\n  render() {\n    let self = this;\n\n    self.element.innerHTML = `\n      <div class=\"filters\">\n        <p>Sort by </p>\n        <div class=\"filter\">\n          <select name=\"title-sort\">\n            <option value=\"default-title-sort\" ${store.state.filters.title == 'default-title-sort' ? 'selected' : ''} disabled>Title</option>\n            <option value=\"a-z\" ${store.state.filters.title == 'a-z' ? 'selected' : ''}>A-Z</option>\n            <option value=\"z-a\" ${store.state.filters.title == 'z-a' ? 'selected' : ''}>Z-A</option>\n          </select>\n        </div>\n        <div class=\"filter\">\n          <select name=\"price-sort\" >\n            <option value=\"default-price-sort\" ${store.state.filters.price == 'default-price-sort' ? 'selected' : ''} disabled>Price</option>\n            <option value=\"low-high\" ${store.state.filters.price == 'low-high' ? 'selected' : ''}>Low - High</option>\n            <option value=\"high-low\" ${store.state.filters.price == 'high-low' ? 'selected' : ''}>High - Low</option>\n          </select>\n        </div>\n      </div>\n    `;\n\n    // Here we just want to be updating the state...\n    self.element.querySelectorAll('select').forEach((select) => {\n\n      select.addEventListener('change', (e) => {\n        let filter = e.target.name;\n        let filterValue = e.target.value;\n\n        if (e.target.name == 'title-sort') {\n          store.dispatch('sortTitle', filterValue);\n\n        } else if(e.target.name == 'price-sort') {\n          store.dispatch('sortPrice', filterValue);\n\n        }\n      });\n    });\n  }\n}\n"],"sourceRoot":""}